<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LearnHub</title>
  <link rel="icon" href="../img/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="../styles/style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
</head>
<body>
  <header>
    <div class="navbar">
      <div class="logo">LearnHub</div>
      <nav>
        <a href="Courses.html">Courses</a>
        <a href="Resources.html">Resources</a>
        <a href="#">Community</a>
        <a href="AboutUs.html">About Us</a>
      </nav>
      <div class="nav-buttons" id="nav-buttons">
      </div>
    </div>
  </header>

  <main>
    <section class="hero">
      <img src="../img/CoursePage.jpg" alt="Hero Image" class="hero-img" />
      <h1>Expand Your Skills Today</h1>
      <p>Access expert-led courses in tech, business, and creative fields</p>
    </section>

    <section class="courses">
      <h2>Featured Courses</h2>
      <div class="course-list" id="course-list">
        </div>
      </div>
    </section>

    <section class="why-us">
      <h2>Why Choose Us</h2>
      <div class="benefits">
        <div class="card"> 
        <img src="../img/graduation-cap.png" alt="Hero Image" class="icon-img" />
          <h4>Expert Instructors</h4>
          <p>Learn from industry professionals with real-world experience.</p>
        </div>
        <div class="card"> 
          <img src="../img/clock.png" alt="Hero Image" class="icon-img" />
          <h4>Flexible Learning</h4>
          <p>Study at your own pace with on-demand video lessons.</p>
        </div>
        <div class="card"> 
          <img src="../img/wrench.png" alt="Hero Image" class="icon-img" />
          <h4>Practical Projects</h4>
          <p>Build your portfolio with hands-on assignments and case studies.</p>
        </div>
      </div>
    </section>
  </main>
  <script>
    // Provjera da li je korisnik logovan
    fetch('http://127.0.0.1:5000/check-login', {
      credentials: 'include'
    })
    .then(response => response.json())
    .then(data => {
      const navButtons = document.getElementById("nav-buttons");
      if (data.logged_in) {
        navButtons.innerHTML = `
          <button class="outline logout-btn" id="logout-btn">Logout</button>
          <img src="../img/user.png" class="avatar" alt="User" />
        `;
        document.getElementById("logout-btn").addEventListener("click", () => {
          fetch("http://127.0.0.1:5000/logout", {
            method: "POST",
            credentials: "include"
          })
          .then(res => res.json())
          .then(() => window.location.reload());
        });
      } else {
        navButtons.innerHTML = `
          <a href="Login.html"><button class="outline">Sign In</button></a>
          <a href="Register.html"><button class="filled">Sign Up</button></a>
        `;
      }
    });

    fetch('http://127.0.0.1:5000/featured-courses')
      .then(res => res.json())
      .then(courses => {
        const container = document.getElementById("course-list");
        container.innerHTML = "";
        courses.forEach(course => {
          container.innerHTML += `
            <div class="card">
              <h3>${course.title}</h3>
              <p>${course.description}</p>
              <div class="card-buttons">
                <button class="filled">Enroll Now</button>
                <button class="outline">Preview</button>
              </div>
            </div>
          `;
        });
      });
  </script>
  
</body>
</html>
